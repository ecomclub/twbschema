window.twbschema=(function(){var b=/([[(]?([\w-]+)?(_|\*)([\w-]+)?[\])]?)/g;var c=0;var d="";var a;var f=function(B,l){var z;var r="";var w;if(!l){w=true;l="";if(B.definitions){a=B.definitions}}var g=B.required;var k=Object.assign({},B.properties,B.patternProperties);var A="";for(var h in k){if(k.hasOwnProperty(h)){var n=l+h;var v="schema-field-"+c;c++;var t="";if(Array.isArray(g)){for(z=0;z<g.length;z++){if(h===g[z]){t='<span class="text-danger ml-2">required</span>';break}}}var j=k[h];if(!j.hasOwnProperty("type")){if(a&&typeof j.$ref==="string"){var o=j.$ref.replace("#/definitions/","");if(a.hasOwnProperty(o)){j=Object.assign({},a[o],j)}}}var m=j.type;if(Array.isArray(m)){m=m[0]}var x;if(j.description){x=j.description.replace(b,'<samp class="text-info">$1</samp>')}else{x=""}var q="";var p=function(C,E){if(E===undefined){return}var F;if(Array.isArray(E)&&typeof E[0]!=="object"){F="";for(var D=0;D<E.length;D++){if(D>0){F+='<span class="text-muted mx-1"> Â· </span>'}F+="<samp>"+E[D]+"</samp>"}}else{switch(typeof E){case"string":case"number":F=E;break;default:F=JSON.stringify(E)}F="<samp>"+F+"</samp>"}q+='<li><span class="text-muted mr-1">'+C+": </span>"+F+"</li>"};if(j.hasOwnProperty("default")){p("Default",j["default"])}if(j["enum"]){p("Possible values",j["enum"])}var u="";var y=function(){m='<a class="dropdown-toggle" data-toggle="collapse" href="#'+v+'" aria-expanded="false" aria-controls="'+v+'">'+m+"</a>"};switch(m){case"number":p("Minimun",j.minimum);p("Maximum",j.maximum);p("Max precision",j.multipleOf);break;case"integer":p("Minimun",j.min);p("Maximum",j.max);break;case"string":p("Min length",j.minLength);p("Max length",j.maxLength);p("Format",j.format);p("RegEx",j.pattern);break;case"object":y();n+=".";u=f(j,n);p("Min properties",j.minProperties);p("Max properties",j.maxProperties);break;case"array":m=m+"["+j.items.type+"]";y();if(j.items.type==="object"){n+="[].";u=f(j.items,n)}else{var s={properties:{"[]":j.items}};u=f(s,n)}p("Min elements",j.minItems);p("Max elements",j.maxItems);break}if(q!==""){q='<ul class="small list-unstyled mt-3 mb-0">'+q+"</ul>"}r+='<div class="px-3 pb-3'+A+d+'"><div class="row align-items-center"><div class="col-sm-7"><div class="mt-3"><code><span class="text-secondary">'+l+"</span>"+h+'</code><code class="text-muted small"><br>'+m+t+'</code><div class="small">'+x+'</div></div></div><div class="col">'+q+'</div></div></div><div class="collapse border-top" id="'+v+'">'+u+"</div>";if(w){if(d!==""){d=""}else{d=" bg-light"}}if(A===""){A=" border-top"}}}return r};var e=function(i,k){var h,j;if(typeof k==="string"){try{h=JSON.parse(k)}catch(l){j=l}}else{if(typeof k==="object"&&k!==null){h=k}else{j=new Error("Schema must be a valid JSON object or string")}}if(j){console.error("[twbschema fatal error (invalid schema)]",j)}else{var g=f(h);if(typeof i==="object"&&i!==null&&i.innerHTML){i.innerHTML=g}else{return g}}};return{doc:e}}());